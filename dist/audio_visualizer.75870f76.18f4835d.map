{"version":3,"sources":["../src/js/audio_visualizer.js"],"names":["visualize","audio","load","play","context","AudioContext","src","createMediaElementSource","analyser","createAnalyser","canvas","document","getElementById","width","window","innerWidth","height","innerHeight","ctx","getContext","connect","destination","fftSize","bufferLength","frequencyBinCount","console","log","dataArray","barHeight","Uint8Array","WIDTH","HEIGHT","barWidth","x","renderFrame","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","i","r","g"],"mappings":"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","file":"audio_visualizer.75870f76.18f4835d.map","sourceRoot":"","sourcesContent":["\n export default function visualize (audio) {\n    audio.load();\n    audio.play();\n    var context = new AudioContext();\n    var src = context.createMediaElementSource(audio);\n    var analyser = context.createAnalyser();\n\n    var canvas = document.getElementById(\"canvas\");\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    var ctx = canvas.getContext(\"2d\");\n\n    src.connect(analyser);\n    analyser.connect(context.destination);\n\n    analyser.fftSize = 256;\n\n    var bufferLength = analyser.frequencyBinCount;\n    console.log(bufferLength);\n\n    var dataArray = new Uint8Array(bufferLength);\n\n    var WIDTH = canvas.width;\n    var HEIGHT = canvas.height;\n\n    var barWidth = (WIDTH / bufferLength) * 2.5;\n    var barHeight;\n    var x = 0;\n\n    function renderFrame() {\n        requestAnimationFrame(renderFrame);\n\n        x = 0;\n\n        analyser.getByteFrequencyData(dataArray);\n\n        ctx.fillStyle = \"#000\";\n        ctx.fillRect(0, 0, WIDTH, HEIGHT);\n\n        for (var i = 0; i < bufferLength; i++) {\n            barHeight = dataArray[i];\n\n            var r = barHeight + (25 * (i / bufferLength));\n            var g = 250 * (i / bufferLength);\n            var b = 50;\n\n            ctx.fillStyle = \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n            ctx.fillRect(x, HEIGHT - barHeight, barWidth, barHeight);\n\n            x += barWidth + 1;\n        }\n    }\n\n    audio.play();\n    renderFrame();\n}\n"]}