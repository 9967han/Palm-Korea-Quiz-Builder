{"version":3,"sources":["js/audio_visualizer.js"],"names":["visualize","audio","load","play","context","AudioContext","src","createMediaElementSource","analyser","createAnalyser","canvas","document","getElementById","width","window","innerWidth","height","innerHeight","ctx","getContext","connect","destination","fftSize","bufferLength","frequencyBinCount","console","log","dataArray","Uint8Array","WIDTH","HEIGHT","barWidth","barHeight","x","renderFrame","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","i","r","g","b"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACgB,SAASA,SAAT,CAAoBC,KAApB,EAA2B;AACvCA,EAAAA,KAAK,CAACC,IAAN;AACAD,EAAAA,KAAK,CAACE,IAAN;AACA,MAAIC,OAAO,GAAG,IAAIC,YAAJ,EAAd;AACA,MAAIC,GAAG,GAAGF,OAAO,CAACG,wBAAR,CAAiCN,KAAjC,CAAV;AACA,MAAIO,QAAQ,GAAGJ,OAAO,CAACK,cAAR,EAAf;AAEA,MAAIC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;AACAF,EAAAA,MAAM,CAACG,KAAP,GAAeC,MAAM,CAACC,UAAtB;AACAL,EAAAA,MAAM,CAACM,MAAP,GAAgBF,MAAM,CAACG,WAAvB;AACA,MAAIC,GAAG,GAAGR,MAAM,CAACS,UAAP,CAAkB,IAAlB,CAAV;AAEAb,EAAAA,GAAG,CAACc,OAAJ,CAAYZ,QAAZ;AACAA,EAAAA,QAAQ,CAACY,OAAT,CAAiBhB,OAAO,CAACiB,WAAzB;AAEAb,EAAAA,QAAQ,CAACc,OAAT,GAAmB,GAAnB;AAEA,MAAIC,YAAY,GAAGf,QAAQ,CAACgB,iBAA5B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AAEA,MAAII,SAAS,GAAG,IAAIC,UAAJ,CAAeL,YAAf,CAAhB;AAEA,MAAIM,KAAK,GAAGnB,MAAM,CAACG,KAAnB;AACA,MAAIiB,MAAM,GAAGpB,MAAM,CAACM,MAApB;AAEA,MAAIe,QAAQ,GAAIF,KAAK,GAAGN,YAAT,GAAyB,GAAxC;AACA,MAAIS,SAAJ;AACA,MAAIC,CAAC,GAAG,CAAR;;AAEA,WAASC,WAAT,GAAuB;AACnBC,IAAAA,qBAAqB,CAACD,WAAD,CAArB;AAEAD,IAAAA,CAAC,GAAG,CAAJ;AAEAzB,IAAAA,QAAQ,CAAC4B,oBAAT,CAA8BT,SAA9B;AAEAT,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,MAAhB;AACAnB,IAAAA,GAAG,CAACoB,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBT,KAAnB,EAA0BC,MAA1B;;AAEA,SAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,YAApB,EAAkCgB,CAAC,EAAnC,EAAuC;AACnCP,MAAAA,SAAS,GAAGL,SAAS,CAACY,CAAD,CAArB;AAEA,UAAIC,CAAC,GAAGR,SAAS,GAAI,MAAMO,CAAC,GAAGhB,YAAV,CAArB;AACA,UAAIkB,CAAC,GAAG,OAAOF,CAAC,GAAGhB,YAAX,CAAR;AACA,UAAImB,CAAC,GAAG,EAAR;AAEAxB,MAAAA,GAAG,CAACmB,SAAJ,GAAgB,SAASG,CAAT,GAAa,GAAb,GAAmBC,CAAnB,GAAuB,GAAvB,GAA6BC,CAA7B,GAAiC,GAAjD;AACAxB,MAAAA,GAAG,CAACoB,QAAJ,CAAaL,CAAb,EAAgBH,MAAM,GAAGE,SAAzB,EAAoCD,QAApC,EAA8CC,SAA9C;AAEAC,MAAAA,CAAC,IAAIF,QAAQ,GAAG,CAAhB;AACH;AACJ;;AAED9B,EAAAA,KAAK,CAACE,IAAN;AACA+B,EAAAA,WAAW;AACd","file":"audio_visualizer.b1a49375.map","sourceRoot":"../src","sourcesContent":["\n export default function visualize (audio) {\n    audio.load();\n    audio.play();\n    var context = new AudioContext();\n    var src = context.createMediaElementSource(audio);\n    var analyser = context.createAnalyser();\n\n    var canvas = document.getElementById(\"canvas\");\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    var ctx = canvas.getContext(\"2d\");\n\n    src.connect(analyser);\n    analyser.connect(context.destination);\n\n    analyser.fftSize = 256;\n\n    var bufferLength = analyser.frequencyBinCount;\n    console.log(bufferLength);\n\n    var dataArray = new Uint8Array(bufferLength);\n\n    var WIDTH = canvas.width;\n    var HEIGHT = canvas.height;\n\n    var barWidth = (WIDTH / bufferLength) * 2.5;\n    var barHeight;\n    var x = 0;\n\n    function renderFrame() {\n        requestAnimationFrame(renderFrame);\n\n        x = 0;\n\n        analyser.getByteFrequencyData(dataArray);\n\n        ctx.fillStyle = \"#000\";\n        ctx.fillRect(0, 0, WIDTH, HEIGHT);\n\n        for (var i = 0; i < bufferLength; i++) {\n            barHeight = dataArray[i];\n\n            var r = barHeight + (25 * (i / bufferLength));\n            var g = 250 * (i / bufferLength);\n            var b = 50;\n\n            ctx.fillStyle = \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n            ctx.fillRect(x, HEIGHT - barHeight, barWidth, barHeight);\n\n            x += barWidth + 1;\n        }\n    }\n\n    audio.play();\n    renderFrame();\n}\n"]}