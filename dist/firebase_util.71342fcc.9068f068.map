{"version":3,"sources":["../src/js/firebase_util.js"],"names":["db","firebase","firestore","chinese_sentence","uploadData","document","getElementById","rightbody","chinese","value","korean","pinyin","collection","doc","add","Date","then","docRef","console","log","id","catch","error","removeAllChilds","cell","hasChildNodes","removeChild","firstChild","loadLeftFragment","leftBody","i","length","paragraph","createElement","className","textContent","appendChild","objToString","obj","str","p","hasOwnProperty","objToChinese","get","querySnapshot","forEach","orderBy","onSnapshot","sentence","push","data"],"mappings":"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","file":"firebase_util.71342fcc.9068f068.map","sourceRoot":"","sourcesContent":["\nvar db = firebase.firestore();\nvar chinese_sentence = [];\n//데이터 불러오기\n(function loadData () {\n  var docRef = db.collection('conversation')\n    .get()\n    .then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        //console.log('doc id : ' + doc.data());\n        db.collection('conversation').doc(doc.id).collection('sentence')\n\t  .orderBy('timestamp', 'desc')\n          .onSnapshot((querySnapshot) => {\n\t    chinese_sentence = []\n            querySnapshot.forEach((sentence) => {\n              chinese_sentence.push(objToChinese(sentence.data()));\n            })\n\t    loadLeftFragment();\n          })\n      });\n    });}\n  )();\n\n\n//데이터 보내기\nfunction uploadData() {\n  var rightbody = document.getElementById(\"right\");\n  var chinese = document.getElementById(\"chinese\").value;\n  var korean = document.getElementById(\"korean\").value;\n  var pinyin = document.getElementById(\"pinyin\").value;\n  db.collection('conversation')\n    .doc('2ECYwxhjTSL86FQ1f4J7')\n    .collection('sentence')\n    .add({\n      'korean' : korean,\n      'chinese': chinese,\n      'pinyin': pinyin,\n      'audio': 'random',\n      'seq': 2,\n      'timestamp': new Date()\n    })\n    .then(function (docRef) {\n      console.log(\"Document written with ID: \", docRef.id);\n    })\n    .catch(function (error) {\n      console.error(\"Error adding document: \", error);\n    });\n}\n\nfunction removeAllChilds (cell) {\n\twhile ( cell.hasChildNodes() ) { cell.removeChild( cell.firstChild ); } \n}\n\nfunction loadLeftFragment(){\n  var leftBody = document.getElementById(\"left\");\n  removeAllChilds(leftBody);\n  for(var i=0; i<chinese_sentence.length; i++){\n     var paragraph = document.createElement('p');\n     paragraph.className += ' sentence';\n     paragraph.textContent = chinese_sentence[i];\n     leftBody.appendChild(paragraph);\n  }\n}\n\nfunction objToString(obj) {\n  var str = '';\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p)) {\n      str += p + '::' + obj[p] + '\\n';\n    }\n  }\n  return str;\n}\n\n function objToChinese(obj){\n  var str = '';\n  for (var p in obj) {\n    if(obj.hasOwnProperty(p) && (p==\"chinese\" || p==\"korean\" || p==\"pinyin\")){\n      str += p + ' : ';\n      str += obj[p] + ' , ';\n    }\n  }\n  return str;\n}\n\nexport default {\n  uploadData\n}"]}